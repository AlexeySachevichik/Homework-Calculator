var view={display:{item:document.getElementById("display"),refresh:function(){view.display.item.innerHTML=model.calculator.current}},status:{item:document.getElementById("status"),show:function(e){view.status.item.innerHTML=e},clear:function(){view.status.item.innerHTML=""}},numbers:{n1:document.getElementById("n1"),n2:document.getElementById("n2"),n3:document.getElementById("n3"),n4:document.getElementById("n4"),n5:document.getElementById("n5"),n6:document.getElementById("n6"),n7:document.getElementById("n7"),n8:document.getElementById("n8"),n9:document.getElementById("n9"),n0:document.getElementById("n0"),inv:document.getElementById("inv"),dot:document.getElementById("dot")},control:{delete:document.getElementById("del"),pop:document.getElementById("ce"),clear:document.getElementById("c"),equally:document.getElementById("equally")}},model={display:{clear:function(){model.calculator.current=0,model.calculator.memomy=0,view.display.refresh(),view.status.clear()}},calculator:{current:0,memomy:0,limit:15,length:function(){return(model.calculator.current+"").replace(".","").replace("-","").length},push:function(e){model.calculator.length()<model.calculator.limit?0===model.calculator.current?(model.calculator.current=e,view.display.refresh(),view.status.clear()):(model.calculator.current=+(""+model.calculator.current+e),view.display.refresh(),view.status.clear()):view.status.show("Ограничение колличества знаков")},pop:function(){model.calculator.current=0,view.display.refresh(),view.status.clear()},delete:function(){if(0!==model.calculator.current){var e=model.calculator.current+"";e=e.slice(0,e.length-1),model.calculator.current=NaN==e||0==e||""==e||"-"==e||void 0==e?0:+e,view.display.refresh(),view.status.clear()}else view.status.show("Очистка завершена")},inversion:function(){0!==model.calculator.current?(model.calculator.current=-1*model.calculator.current,view.display.refresh(),view.status.clear()):view.status.show("Нулю не может быть присвоен никакой знак")}}},controller={numbers:{push:function(e){var n=+e.target.innerHTML;model.calculator.push(n)},inversion:function(){model.calculator.inversion()}},control:{delete:function(){model.calculator.delete()},clear:function(){model.display.clear()}}};({init:function(){model.display.clear(),this.event()},event:function(){view.numbers.n1.addEventListener("click",function(e){controller.numbers.push(e)}),view.numbers.n2.addEventListener("click",function(e){controller.numbers.push(e)}),view.numbers.n3.addEventListener("click",function(e){controller.numbers.push(e)}),view.numbers.n4.addEventListener("click",function(e){controller.numbers.push(e)}),view.numbers.n5.addEventListener("click",function(e){controller.numbers.push(e)}),view.numbers.n6.addEventListener("click",function(e){controller.numbers.push(e)}),view.numbers.n7.addEventListener("click",function(e){controller.numbers.push(e)}),view.numbers.n8.addEventListener("click",function(e){controller.numbers.push(e)}),view.numbers.n9.addEventListener("click",function(e){controller.numbers.push(e)}),view.numbers.n0.addEventListener("click",function(e){controller.numbers.push(e)}),view.numbers.inv.addEventListener("click",controller.numbers.inversion),view.control.clear.addEventListener("click",controller.control.clear),view.control.delete.addEventListener("click",controller.control.delete)}}).init();